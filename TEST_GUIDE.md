# ν…μ¤νΈ κ°€μ΄λ“ (Cursor μ‚¬μ©μμ©)

## π“‹ λ©μ°¨

1. [REST API ν…μ¤νΈ (REST Client)](#1-rest-api-ν…μ¤νΈ-rest-client)
2. [Socket.IO ν…μ¤νΈ](#2-socketio-ν…μ¤νΈ)
3. [ν„°λ―Έλ„ μ‚¬μ©λ²•](#3-ν„°λ―Έλ„-μ‚¬μ©λ²•)

---

## 1. REST API ν…μ¤νΈ (REST Client)

### μ¤€λΉ„μ‚¬ν•­

-   β… REST Client μµμ¤ν…μ… μ„¤μΉ μ™„λ£
-   β… μ„λ²„ μ‹¤ν–‰ μ¤‘ (`npm run dev`)

### λ‹¨κ³„λ³„ κ°€μ΄λ“

#### 1-1. μ„λ²„ μ‹¤ν–‰ ν™•μΈ

λ¨Όμ € μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈν•μ„Έμ”. ν„°λ―Έλ„μ—μ„ λ‹¤μ λ…λ Ήμ–΄λ΅ μ‹¤ν–‰:

```bash
npm run dev
```

μ„λ²„κ°€ μ •μƒμ μΌλ΅ μ‹¤ν–‰λλ©΄ λ‹¤μκ³Ό κ°™μ€ λ©”μ‹μ§€κ°€ ν‘μ‹λ©λ‹λ‹¤:

```
[INFO] Server started on port 3000
```

#### 1-2. REST Client νμΌ μ—΄κΈ°

1. Cursorμ—μ„ `test/api.http` νμΌμ„ μ—½λ‹λ‹¤ (μ΄λ―Έ μ—΄λ ¤μμ„ μ μμµλ‹λ‹¤)
2. νμΌμ΄ μ—΄λ¦¬λ©΄ κ° μ”μ²­ μ„μ— `Send Request` λ²„νΌμ΄ ν‘μ‹λ©λ‹λ‹¤

#### 1-3. μ”μ²­ ν…μ¤νΈν•κΈ°

κ° μ”μ²­μ„ ν…μ¤νΈν•λ” λ°©λ²•:

**λ°©λ²• 1: Send Request λ²„νΌ ν΄λ¦­**

-   κ° `###` μ£Όμ„ μ•„λμ μ”μ²­ μ„μ— λ§μ°μ¤λ¥Ό μ¬λ¦¬λ©΄ `Send Request` λ²„νΌμ΄ λ‚νƒ€λ‚©λ‹λ‹¤
-   λ²„νΌμ„ ν΄λ¦­ν•λ©΄ μ”μ²­μ΄ μ „μ†΅λ©λ‹λ‹¤

**λ°©λ²• 2: ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤**

-   μ”μ²­ λΌμΈμ— μ»¤μ„λ¥Ό λ‘κ³  `Ctrl+Alt+R` (Windows/Linux) λλ” `Cmd+Alt+R` (Mac)μ„ λ„λ¦…λ‹λ‹¤

**λ°©λ²• 3: μ°ν΄λ¦­ λ©”λ‰΄**

-   μ”μ²­ λΌμΈμ—μ„ μ°ν΄λ¦­ β†’ `Send Request` μ„ νƒ

#### 1-4. μ‘λ‹µ ν™•μΈ

μ”μ²­μ„ λ³΄λ‚΄λ©΄ Cursor ν•λ‹¨μ— μ‘λ‹µ ν¨λ„μ΄ μ—΄λ¦½λ‹λ‹¤:

-   **Response** νƒ­: μ„λ²„ μ‘λ‹µ λ‚΄μ©
-   **Timeline** νƒ­: μ”μ²­/μ‘λ‹µ μ‹κ°„ μ •λ³΄

### ν…μ¤νΈν•  μ μλ” μ”μ²­λ“¤

1. **GET /health** - μ„λ²„ μƒνƒ ν™•μΈ

    - μ„±κ³µ μ‹: `{"status":"ok","message":"Server is running"}`

2. **GET /status** - μ„λ²„ μƒνƒ λ° μ—°κ²°λ ν΄λΌμ΄μ–ΈνΈ μ

    - μ„±κ³µ μ‹: `{"status":"ok","server":"spark-messaging-server",...}`

3. **Key κ²€μ¦ ν…μ¤νΈ (ν—¤λ” μ‚¬μ©)**

    - μ¬λ°”λ¥Έ ν‚¤λ΅ ν…μ¤νΈ

4. **Key κ²€μ¦ ν…μ¤νΈ (Query νλΌλ―Έν„° μ‚¬μ©)**

    - URLμ— `?key=...` ν•μ‹μΌλ΅ ν…μ¤νΈ

5. **μλ»λ Keyλ΅ ν…μ¤νΈ**
    - μ‹¤ν¨ μ‘λ‹µ ν™•μΈ (401 μ—λ¬ μμƒ)

---

## 2. Socket.IO ν…μ¤νΈ

### μ¤€λΉ„μ‚¬ν•­

-   β… μ„λ²„ μ‹¤ν–‰ μ¤‘ (`npm run dev`)
-   β… κ°λ° μμ΅΄μ„± μ„¤μΉ μ™„λ£ (`npm install`)

### λ‹¨κ³„λ³„ κ°€μ΄λ“

#### 2-1. ν„°λ―Έλ„ μ—΄κΈ° (κ°™μ€ ν„°λ―Έλ„ μ‚¬μ© κ°€λ¥)

**μµμ… A: κΈ°μ΅΄ ν„°λ―Έλ„ λ¶„ν•  μ‚¬μ© (μ¶”μ²)**

1. ν„μ¬ ν„°λ―Έλ„μ—μ„ `Ctrl+Shift+` (λ°±ν‹±) λλ” ν„°λ―Έλ„ λ©”λ‰΄μ—μ„ "Split Terminal" μ„ νƒ
2. λ¶„ν• λ ν„°λ―Έλ„μ—μ„ ν…μ¤νΈ μ‹¤ν–‰

**μµμ… B: μƒ ν„°λ―Έλ„ νƒ­ μ—΄κΈ°**

1. ν„°λ―Έλ„ ν¨λ„μ—μ„ `+` λ²„νΌ ν΄λ¦­ λλ” `Ctrl+Shift+` (λ°±ν‹±)
2. μƒ ν„°λ―Έλ„μ—μ„ ν…μ¤νΈ μ‹¤ν–‰

**μµμ… C: κ°™μ€ ν„°λ―Έλ„μ—μ„ λ°±κ·ΈλΌμ΄λ“ μ‹¤ν–‰**

-   Windows PowerShellμ—μ„λ” μ„λ²„λ¥Ό λ°±κ·ΈλΌμ΄λ“λ΅ μ‹¤ν–‰ν•  μ μ—†μΌλ―€λ΅, ν„°λ―Έλ„ λ¶„ν•  λλ” μƒ νƒ­μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤

#### 2-2. Socket.IO ν…μ¤νΈ μ‹¤ν–‰

ν„°λ―Έλ„μ—μ„ λ‹¤μ λ…λ Ήμ–΄ μ‹¤ν–‰:

```bash
npm run test:socket
```

λλ” μ§μ ‘ μ‹¤ν–‰:

```bash
node test/socket-test.js
```

#### 2-3. μμƒ μ¶λ ¥

μ •μƒμ μΌλ΅ μ‘λ™ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ μ¶λ ¥μ΄ ν‘μ‹λ©λ‹λ‹¤:

```
π” Socket.IO μ—°κ²° ν…μ¤νΈ μ‹μ‘...
μ„λ²„: http://localhost:3000
ν”„λ΅μ νΈ ν‚¤: default-pr...

β οΈ  μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈν•μ„Έμ”! (npm run dev)

β… μ—°κ²° μ„±κ³µ!
Socket ID: xxxxx

π“¨ μ„λ²„ μ—°κ²° ν™•μΈ: Connected to server
Socket ID: xxxxx

π“¤ λ©”μ‹μ§€ μ „μ†΅ μ¤‘...
π“¨ λ©”μ‹μ§€ μμ‹ :
{
  "type": "test",
  "content": "Hello from test client!",
  "from": "xxxxx",
  "timestamp": "2024-..."
}

π  λ£Έ μ°Έκ°€ ν…μ¤νΈ...
β… λ£Έ μ°Έκ°€ μ„±κ³µ: test-room
λ©”μ‹μ§€: Joined room: test-room

π“¤ λ£Έ λ©”μ‹μ§€ μ „μ†΅...
π“¨ λ£Έ λ©”μ‹μ§€ μμ‹ :
{
  "room": "test-room",
  "type": "room-test",
  "content": "Hello from room!",
  "from": "xxxxx",
  "timestamp": "2024-..."
}

π‘‹ ν…μ¤νΈ μΆ…λ£...
π” μ—°κ²° ν•΄μ : io client disconnect
```

#### 2-4. μ—λ¬ λ°μƒ μ‹

λ§μ•½ μ„λ²„κ°€ μ‹¤ν–‰λμ§€ μ•μ•λ‹¤λ©΄:

```
β μ—°κ²° μ—λ¬: websocket error

π’΅ ν•΄κ²° λ°©λ²•:
   1. μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈν•μ„Έμ”: npm run dev
   2. μ„λ²„κ°€ http://localhost:3000 μ—μ„ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈν•μ„Έμ”
   3. ν”„λ΅μ νΈ ν‚¤κ°€ μΌμΉν•λ”μ§€ ν™•μΈν•μ„Έμ” (.env νμΌμ PROJECT_KEY)
```

μ΄ κ²½μ°, λ‹¤λ¥Έ ν„°λ―Έλ„μ—μ„ μ„λ²„λ¥Ό λ¨Όμ € μ‹¤ν–‰ν•μ„Έμ”.

---

## 3. ν„°λ―Έλ„ μ‚¬μ©λ²•

### Cursorμ—μ„ ν„°λ―Έλ„ μ—¬λ” λ°©λ²•

#### λ°©λ²• 1: ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤

-   **Windows/Linux**: `Ctrl+` (λ°±ν‹±) λλ” `Ctrl+Shift+` (λ°±ν‹±)
-   **Mac**: `` Ctrl+` `` λλ” `Cmd+` (λ°±ν‹±)

#### λ°©λ²• 2: λ©”λ‰΄ μ‚¬μ©

-   μƒλ‹¨ λ©”λ‰΄: `Terminal` β†’ `New Terminal`
-   λλ” `View` β†’ `Terminal`

#### λ°©λ²• 3: λ…λ Ή ν”λ νΈ

-   `Ctrl+Shift+P` (Windows/Linux) λλ” `Cmd+Shift+P` (Mac)
-   "Terminal: Create New Terminal" μ…λ ¥

### ν„°λ―Έλ„ λ¶„ν• ν•κΈ°

**κ°™μ€ ν„°λ―Έλ„μ„ λ¶„ν• ν•μ—¬ μ‚¬μ©ν•λ” λ°©λ²•:**

1. **ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤**

    - `Ctrl+Shift+` (λ°±ν‹±) - μƒ ν„°λ―Έλ„
    - λλ” ν„°λ―Έλ„ ν¨λ„μ λ¶„ν•  μ•„μ΄μ½ ν΄λ¦­

2. **ν„°λ―Έλ„ λ©”λ‰΄**
    - ν„°λ―Έλ„ ν¨λ„ μ¤λ¥Έμ½ μƒλ‹¨μ `...` λ©”λ‰΄ ν΄λ¦­
    - "Split Terminal" μ„ νƒ

### μ¶”μ² μ›ν¬ν”λ΅μ°

**μ‹λ‚λ¦¬μ¤ 1: REST APIλ§ ν…μ¤νΈ**

```
1. ν„°λ―Έλ„ 1κ°: npm run dev (μ„λ²„ μ‹¤ν–‰)
2. test/api.http νμΌμ—μ„ Send Request ν΄λ¦­
```

**μ‹λ‚λ¦¬μ¤ 2: Socket.IO ν…μ¤νΈ**

```
1. ν„°λ―Έλ„ 1 (μ™Όμ½): npm run dev (μ„λ²„ μ‹¤ν–‰)
2. ν„°λ―Έλ„ 2 (μ¤λ¥Έμ½): npm run test:socket (ν…μ¤νΈ μ‹¤ν–‰)
```

**μ‹λ‚λ¦¬μ¤ 3: λ‘ λ‹¤ ν…μ¤νΈ**

```
1. ν„°λ―Έλ„ 1: npm run dev (μ„λ²„ μ‹¤ν–‰)
2. test/api.httpμ—μ„ REST API ν…μ¤νΈ
3. ν„°λ―Έλ„ 2: npm run test:socket (Socket.IO ν…μ¤νΈ)
```

---

## π― λΉ λ¥Έ μ°Έμ΅°

### μ„λ²„ μ‹¤ν–‰

```bash
npm run dev
```

### REST API ν…μ¤νΈ

-   `test/api.http` νμΌ μ—΄κΈ°
-   `Send Request` λ²„νΌ ν΄λ¦­

### Socket.IO ν…μ¤νΈ

```bash
npm run test:socket
```

### λ¬Έμ  ν•΄κ²°

-   μ„λ²„κ°€ μ‹¤ν–‰λμ§€ μ•μ β†’ `npm run dev` λ¨Όμ € μ‹¤ν–‰
-   μ—°κ²° μ—λ¬ β†’ μ„λ²„ ν¬νΈ ν™•μΈ (κΈ°λ³Έκ°’: 3000)
-   μΈμ¦ μ‹¤ν¨ β†’ `.env` νμΌμ `PROJECT_KEY` ν™•μΈ
